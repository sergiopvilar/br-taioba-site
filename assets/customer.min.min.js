var selectors={customerAddresses:"[data-customer-addresses]",addressCountrySelect:"[data-address-country-select]",addressContainer:"[data-address]",toggleAddressButton:"button[aria-expanded]",cancelAddressButton:'button[type="reset"]',deleteAddressButton:"button[data-confirm-message]"};var attributes={expanded:"aria-expanded",confirmMessage:"data-confirm-message"};var CustomerAddresses=function(){function CustomerAddresses(){var _this=this;this._handleAddEditButtonClick=function(_a){var currentTarget=_a.currentTarget;_this._toggleExpanded(currentTarget)};this._handleCancelButtonClick=function(_a){var currentTarget=_a.currentTarget;_this._toggleExpanded(currentTarget.closest(selectors.addressContainer).querySelector("[".concat(attributes.expanded,"]")))};this._handleDeleteButtonClick=function(_a){var currentTarget=_a.currentTarget;if(confirm(currentTarget.getAttribute(attributes.confirmMessage))){Shopify.postLink(currentTarget.dataset.target,{parameters:{_method:"delete"}})}};this.elements=this._getElements();if(Object.keys(this.elements).length===0)return;this._setupCountries();this._setupEventListeners()}CustomerAddresses.prototype._getElements=function(){var container=document.querySelector(selectors.customerAddresses);return container?{container:container,addressContainer:container.querySelector(selectors.addressContainer),toggleButtons:document.querySelectorAll(selectors.toggleAddressButton),cancelButtons:container.querySelectorAll(selectors.cancelAddressButton),deleteButtons:container.querySelectorAll(selectors.deleteAddressButton),countrySelects:container.querySelectorAll(selectors.addressCountrySelect)}:{}};CustomerAddresses.prototype._setupCountries=function(){if(Shopify&&Shopify.CountryProvinceSelector){new Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"});this.elements.countrySelects.forEach(function(select){var formId=select.dataset.formId;new Shopify.CountryProvinceSelector("AddressCountry_".concat(formId),"AddressProvince_".concat(formId),{hideElement:"AddressProvinceContainer_".concat(formId)})})}};CustomerAddresses.prototype._setupEventListeners=function(){var _this=this;this.elements.toggleButtons.forEach(function(element){element.addEventListener("click",_this._handleAddEditButtonClick)});this.elements.cancelButtons.forEach(function(element){element.addEventListener("click",_this._handleCancelButtonClick)});this.elements.deleteButtons.forEach(function(element){element.addEventListener("click",_this._handleDeleteButtonClick)})};CustomerAddresses.prototype._toggleExpanded=function(target){target.setAttribute(attributes.expanded,(target.getAttribute(attributes.expanded)==="false").toString())};return CustomerAddresses}();
