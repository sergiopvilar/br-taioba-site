var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var DetailsModal=function(_super){__extends(DetailsModal,_super);function DetailsModal(){var _this=_super.call(this)||this;_this.detailsContainer=_this.querySelector("details");_this.summaryToggle=_this.querySelector("summary");_this.detailsContainer.addEventListener("keyup",function(event){return event.code.toUpperCase()==="ESCAPE"&&_this.close()});_this.summaryToggle.addEventListener("click",_this.onSummaryClick.bind(_this));_this.querySelector('button[type="button"]').addEventListener("click",_this.close.bind(_this));_this.summaryToggle.setAttribute("role","button");return _this}DetailsModal.prototype.isOpen=function(){return this.detailsContainer.hasAttribute("open")};DetailsModal.prototype.onSummaryClick=function(event){event.preventDefault();event.target.closest("details").hasAttribute("open")?this.close():this.open(event)};DetailsModal.prototype.onBodyClick=function(event){if(!this.contains(event.target)||event.target.classList.contains("modal-overlay"))this.close(false)};DetailsModal.prototype.open=function(event){this.onBodyClickEvent=this.onBodyClickEvent||this.onBodyClick.bind(this);event.target.closest("details").setAttribute("open",true);document.body.addEventListener("click",this.onBodyClickEvent);document.body.classList.add("overflow-hidden");trapFocus(this.detailsContainer.querySelector('[tabindex="-1"]'),this.detailsContainer.querySelector('input:not([type="hidden"])'))};DetailsModal.prototype.close=function(focusToggle){if(focusToggle===void 0){focusToggle=true}removeTrapFocus(focusToggle?this.summaryToggle:null);this.detailsContainer.removeAttribute("open");document.body.removeEventListener("click",this.onBodyClickEvent);document.body.classList.remove("overflow-hidden")};return DetailsModal}(HTMLElement);customElements.define("details-modal",DetailsModal);
