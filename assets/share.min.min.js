var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();if(!customElements.get("share-button")){customElements.define("share-button",function(_super){__extends(ShareButton,_super);function ShareButton(){var _this=_super.call(this)||this;_this.elements={shareButton:_this.querySelector("button"),shareSummary:_this.querySelector("summary"),closeButton:_this.querySelector(".share-button__close"),successMessage:_this.querySelector('[id^="ShareMessage"]'),urlInput:_this.querySelector("input")};_this.urlToShare=_this.elements.urlInput?_this.elements.urlInput.value:document.location.href;if(navigator.share){_this.mainDetailsToggle.setAttribute("hidden","");_this.elements.shareButton.classList.remove("hidden");_this.elements.shareButton.addEventListener("click",function(){navigator.share({url:_this.urlToShare,title:document.title})})}else{_this.mainDetailsToggle.addEventListener("toggle",_this.toggleDetails.bind(_this));_this.mainDetailsToggle.querySelector(".share-button__copy").addEventListener("click",_this.copyToClipboard.bind(_this));_this.mainDetailsToggle.querySelector(".share-button__close").addEventListener("click",_this.close.bind(_this))}return _this}ShareButton.prototype.toggleDetails=function(){if(!this.mainDetailsToggle.open){this.elements.successMessage.classList.add("hidden");this.elements.successMessage.textContent="";this.elements.closeButton.classList.add("hidden");this.elements.shareSummary.focus()}};ShareButton.prototype.copyToClipboard=function(){var _this=this;navigator.clipboard.writeText(this.elements.urlInput.value).then(function(){_this.elements.successMessage.classList.remove("hidden");_this.elements.successMessage.textContent=window.accessibilityStrings.shareSuccess;_this.elements.closeButton.classList.remove("hidden");_this.elements.closeButton.focus()})};ShareButton.prototype.updateUrl=function(url){this.urlToShare=url;this.elements.urlInput.value=url};return ShareButton}(DetailsDisclosure))}
