var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();if(!customElements.get("localization-form")){customElements.define("localization-form",function(_super){__extends(LocalizationForm,_super);function LocalizationForm(){var _this=_super.call(this)||this;_this.elements={input:_this.querySelector('input[name="locale_code"], input[name="country_code"]'),button:_this.querySelector("button"),panel:_this.querySelector(".disclosure__list-wrapper")};_this.elements.button.addEventListener("click",_this.openSelector.bind(_this));_this.elements.button.addEventListener("focusout",_this.closeSelector.bind(_this));_this.addEventListener("keyup",_this.onContainerKeyUp.bind(_this));_this.querySelectorAll("a").forEach(function(item){return item.addEventListener("click",_this.onItemClick.bind(_this))});return _this}LocalizationForm.prototype.hidePanel=function(){this.elements.button.setAttribute("aria-expanded","false");this.elements.panel.setAttribute("hidden",true)};LocalizationForm.prototype.onContainerKeyUp=function(event){if(event.code.toUpperCase()!=="ESCAPE")return;if(this.elements.button.getAttribute("aria-expanded")=="false")return;this.hidePanel();event.stopPropagation();this.elements.button.focus()};LocalizationForm.prototype.onItemClick=function(event){event.preventDefault();var form=this.querySelector("form");this.elements.input.value=event.currentTarget.dataset.value;if(form)form.submit()};LocalizationForm.prototype.openSelector=function(){this.elements.button.focus();this.elements.panel.toggleAttribute("hidden");this.elements.button.setAttribute("aria-expanded",(this.elements.button.getAttribute("aria-expanded")==="false").toString())};LocalizationForm.prototype.closeSelector=function(event){var isChild=this.elements.panel.contains(event.relatedTarget)||this.elements.button.contains(event.relatedTarget);if(!event.relatedTarget||!isChild){this.hidePanel()}};return LocalizationForm}(HTMLElement))}
